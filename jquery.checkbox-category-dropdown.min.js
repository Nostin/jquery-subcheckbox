(function(e){e.fn.checkbox_category_dropdown=function(t){function i(){e("li ul",r).addClass("ccd-sub-list");e("li",r).addClass("ccd-main-item");e("ul.ccd-sub-list li",r).removeClass("ccd-main-item");e("li.ccd-main-item input",r).addClass("ccd-wrapme");e("li.ccd-main-item label",r).addClass("ccd-wrapme");e("ul.ccd-sub-list li input",r).removeClass("ccd-wrapme");e("ul.ccd-sub-list li label",r).removeClass("ccd-wrapme");e("li.ccd-main-item",r).each(function(){e(".ccd-wrapme",e(this)).wrapAll('<div class="ccd-main-list-item-wrap" />')});e(".ccd-wrapme",r).removeClass("ccd-wrapme");e("ul.ccd-sub-list",r).after('<ul class="ccd-sub-list-values"></ul>');e("li.ccd-main-item ul.ccd-sub-list",r).hide();e("li.ccd-main-item",r).each(function(){s(e(this))})}function s(t){$subList=t.find("ul.ccd-sub-list");$subListValues=t.find("ul.ccd-sub-list-values");$subListValues.empty();e("li",$subList).each(function(){$chegger=e(this).find("input").is(":checked");if($chegger){$subListValues.append("<li><p>"+e(this).find("label").text()+"</p></li>")}});$subList.hide();$subListValues.show()}var n=e.extend({selectAll:"select-all"},t);var r=this;i();e(".ccd-main-list-item-wrap",r).mouseenter(function(){e(this).parents("li.ccd-main-item").find("ul.ccd-sub-list").show();e(this).parents("li.ccd-main-item").find("ul.ccd-sub-list-values").hide()});e("ul.ccd-sub-list-values",r).mouseenter(function(){e(this).parents("li.ccd-main-item").find("ul.ccd-sub-list").show();e(this).hide()});e("li.ccd-main-item",r).mouseleave(function(){s(e(this))});e("ul.ccd-sub-list input",r).change(function(){if(e(this).is(":checked")){e(this).parents("li.ccd-main-item").find(".ccd-main-list-item-wrap input").prop("checked",true);if(e(this).hasClass(n.selectAll)){e(this).parents("ul.ccd-sub-list").find("li input").prop("checked",false);e(this).prop("checked",true)}else{e(this).parents("ul.ccd-sub-list").find("li input."+n.selectAll).prop("checked",false)}}if(e(this).parents("ul.ccd-sub-list").find("li input:checked").length==0){e(this).parents("li.ccd-main-item").find("div.ccd-main-list-item-wrap input").prop("checked",false)}});e("li.ccd-main-item .ccd-main-list-item-wrap input",r).change(function(){$subListWrapper=e(this).parents("li.ccd-main-item").find("ul.ccd-sub-list");if(e(this).is(":checked")===false){e("input",$subListWrapper).prop("checked",false)}else{if(e("input:checkbox:checked",$subListWrapper).length===0){e("input."+n.selectAll,$subListWrapper).prop("checked",true)}}})}})(jQuery)